<div class="panel tw-w-96" [ngClass]="{'expanded': isExpanded}" (click)="togglePanel()">


    <ng-container
        *ngTemplateOutlet="headerTemplate || defaultHeaderTemplate; context:{$implicit: headerContent , isExpanded: isExpanded}">
    </ng-container>

    <div class="tw-mt-2" [@expandCollapse]="isExpanded && !isCollapsing ? 'expanded' : 'collapsed'"
        (@expandCollapse.done)="onAnimationEnd($event)">

        <ng-container class="panel-body" *ngIf="isExpanded">
            <!-- <ng-container bodyOutlet></ng-container> -->
            <ng-container
                *ngTemplateOutlet="bodyTemplate || defaultPanelTemplate; context:{$implicit: bodyConent}"></ng-container>
        </ng-container>
    </div>

</div>


<ng-template #defaultHeaderTemplate let-isExpanded="isExpanded" let-headerContent>

    <div class=" tw-flex tw-flex-row tw-bg-slate-50 tw-rounded-md tw-p-4">
        <div class="tw-flex tw-flex-auto">
            <ng-container *ngTemplateOutlet="headerContent"></ng-container>

        </div>
        <!-- <ng-content select="[header]"></ng-content> -->
        <span class="material-icons">{{ isExpanded ? 'expand_less' : 'expand_more' }}</span>

        <!-- <span>{{ isExpanded ? 'Collapse' : 'Expand' }}</span> -->
    </div>

</ng-template>

<ng-template bodyTemplateDef #defaultPanelTemplate let-bodyConent>
    <!-- <ng-content [select]="body"></ng-content> -->
    <div class="tw-bg-slate-50 tw-rounded-md tw-p-4 ">

        <ng-container *ngTemplateOutlet="bodyConent"></ng-container>
    </div>

    <!-- <ng-container >{{bodyView}}</ng-container> -->

    <!-- <ng-content select="[body]"></ng-content> -->
</ng-template>

<!-- <ng-template #defaultHeaderTemplate>
    <ng-content select="[header]"></ng-content>
</ng-template> -->